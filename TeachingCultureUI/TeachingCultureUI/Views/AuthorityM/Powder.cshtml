
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <script src="~/layui/layui.js"></script>
    <link href="~/layui/css/layui.css" rel="stylesheet" />
    <title>Powder</title>
    <script>
        var str;
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util;
            var $ = layui.jquery;
            $.ajax({
                url: "http://localhost:50111/api/MenuShow",
                type: "get",
                contentType: "application/json",
                success: function (data) {
                    tree.render({
                        elem: '#test12'
                        , data: data
                        , showCheckbox: true  //是否显示复选框
                        , id: 'demoId1'

                    });

                    //按钮事件
                    util.event('lay-demo', {
                        getChecked: function (othis) {
                            var checkedData = tree.getChecked('demoId1'); //获取选中节点的数据
                         

                            layer.alert(JSON.stringify(checkedData), { shade: 0 });
                            console.log(checkedData);
                        }
                    });
                }
            })
        });
        
    </script>
</head>
<body>
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>权限显示</legend>
    </fieldset>
    <div id="test12" class="demo-tree-more" style="float:left"></div>
    <div class="layui-btn-container" style="float:right">
        <button type="button" class="layui-btn layui-btn-sm" lay-demo="getChecked">保存</button>
    </div>
</body>
</html>
